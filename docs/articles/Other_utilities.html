<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cyCONDOR">
<title>Introduction to the condor object and other utilities • cyCONDOR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the condor object and other utilities">
<meta property="og:description" content="cyCONDOR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cyCONDOR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/cyCONDOR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Prepare_data_for_cyCONDOR_analysis.html">Prepare data for cyCONDOR analysis</a>
    <a class="dropdown-item" href="../articles/How_to_run_cyCONDOR_as_container.html">How to run cyCONDOR as container</a>
    <a class="dropdown-item" href="../articles/Data_Loading_and_Transformation.html">Data Loading and Transformation</a>
    <a class="dropdown-item" href="../articles/Load_a_FlowJo_workspace.html">Load a FlowJo workspace</a>
    <a class="dropdown-item" href="../articles/Dimensionality_Reduction.html">Dimensionality Reduction</a>
    <a class="dropdown-item" href="../articles/Clustering_and_cell_annotation.html">Clustering and cell annotation</a>
    <a class="dropdown-item" href="../articles/Batch_correction.html">Batch correction</a>
    <a class="dropdown-item" href="../articles/Data_Visualization.html">Data Visualization</a>
    <a class="dropdown-item" href="../articles/Differential_Analysis.html">Differential Analysis with cyCONDOR</a>
    <a class="dropdown-item" href="../articles/Pseudotime_analysis.html">Pseudotime analysis</a>
    <a class="dropdown-item" href="../articles/Data_Projection.html">Data Projection</a>
    <a class="dropdown-item" href="../articles/Machine_learning_classifier.html">Machine learning classifier</a>
    <a class="dropdown-item" href="../articles/Cell_type_prediction.html">Cell type prediction</a>
    <a class="dropdown-item" href="../articles/Other_utilities.html">Introduction to the condor object and other utilities</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lorenzobonaguro/condor/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to the condor object and other utilities</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lorenzobonaguro/condor/blob/HEAD/vignettes/Other_utilities.Rmd" class="external-link"><code>vignettes/Other_utilities.Rmd</code></a></small>
      <div class="d-none name"><code>Other_utilities.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lorenzobonaguro/condor" class="external-link">cyCONDOR</a></span><span class="op">)</span></span></code></pre></div>
<p>In this vignette we introduce the structure of the condor object and
showcase some useful <code>cyCONDOR</code> functions to interact with
it.</p>
<div class="section level2">
<h2 id="load-an-example-dataset">Load an example dataset<a class="anchor" aria-label="anchor" href="#load-an-example-dataset"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">condor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"../.test_files/condor_example_016_misc.rds"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="structure-of-the-condor-object">Structure of the <code>condor</code> object<a class="anchor" aria-label="anchor" href="#structure-of-the-condor-object"></a>
</h2>
<p>Knowing the structure of one’s data object is a huge advantage to
maximize the ease of using bioinformatic tools for analysis. Due to it’s
straight-line composition, the structure of the <code>condor</code>
object is easy to grasp. It follows an hierarchical structure with 3
levels (data type/method -&gt; data slot -&gt; variable) and can be
separated into 5 major sections each representing one step of data
acquiring or analysis (expression, cell metadata, dimensionality
reduction, clustering and extras).</p>
<p><br></p>
<p><img src="../reference/figures/condor_object_structure.png" alt="drawing" width="500"></p>
<p><em>Graphic of the condor object structure. The hierarchical levels
are depicted as columns and the the major sections are colored
in.</em></p>
<div class="section level3">
<h3 id="hierarchical-structure">Hierarchical structure<a class="anchor" aria-label="anchor" href="#hierarchical-structure"></a>
</h3>
<p>The 1st level describes the data types and methods present in the
object followed by the 2nd level specifying separate data slots for the
actual data stored as data frames (df). The 3rd level contains the
variables (column names) of the respective df.</p>
</div>
<div class="section level3">
<h3 id="overview-of-the-5-sections-of-a-condor-object">Overview of the 5 sections of a <code>condor</code> object<a class="anchor" aria-label="anchor" href="#overview-of-the-5-sections-of-a-condor-object"></a>
</h3>
<p>The data types <code>$expr</code> and <code>$anno</code> are created
while data loading and transformation of the <code>condor</code> object
is performed and serve as the basis for further data analysis.</p>
<div class="section level4">
<h4 id="expression">Expression<a class="anchor" aria-label="anchor" href="#expression"></a>
</h4>
<p>The original, transformed expression values are saved in
<code>$expr</code> under the data slot <code>$orig</code>, containing
the cell markers as column names (variables) and unique cell IDs as row
names. If Batch normalization is performed on the expression values the
output is saved in a df under a new data slot (<code>$norm</code>).</p>
</div>
<div class="section level4">
<h4 id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a>
</h4>
<p>The metadata is saved under data type <code>anno</code> and data slot
<code>cell_anno</code>. The variables of this df correspond to the
provided cell annotation and can be used as the argument
<code>group_var</code> in many visualization functions.</p>
</div>
<div class="section level4">
<h4 id="dimensionality-reductions">Dimensionality reductions<a class="anchor" aria-label="anchor" href="#dimensionality-reductions"></a>
</h4>
<p>Each output of a dimensionalty reduction or clustering function will
be saved as a df under their specified method (e.g. <code>$pca</code>,
<code>$umap</code>, <code>$clustering</code>) and data slot
(e.g. <code>$orig</code>, <code>$pca_orig</code>,
<code>$phenograph_pca_orig_k30</code>). The variables of the
dimensionality reductions (e.g. <code>$PC1</code>, <code>$PC2</code>)
will be used by <code>cyCondor</code> automatically as coordinates for
visualization embedding when the method and data slot are specified
(arg: <code>reduction_method</code> and
<code>reduction_slot</code>).</p>
</div>
<div class="section level4">
<h4 id="clustering">Clustering<a class="anchor" aria-label="anchor" href="#clustering"></a>
</h4>
<p>After clustering a data slot will be created under the
<code>$clustering</code> method, named with a combination of the
relevant parameters used for the calculations (eg.
<code>phenograph_pca_orig_k30</code>). The available variables
(e.g. <code>$Phenograph</code> ) are used as a basis for cell labeling,
later saved under the variable (<code>metaclusters</code>).</p>
</div>
<div class="section level4">
<h4 id="extras">Extras<a class="anchor" aria-label="anchor" href="#extras"></a>
</h4>
<p><code>$extra</code> contains all additional data to be stored
(e.g. parameters of data loading, lists of markers, dimensionality
reduction or clustering models for future data projection).</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="extract-or-change-marker-names">Extract or change marker names<a class="anchor" aria-label="anchor" href="#extract-or-change-marker-names"></a>
</h2>
<div class="section level3">
<h3 id="get-measured-markers">Get measured markers<a class="anchor" aria-label="anchor" href="#get-measured-markers"></a>
</h3>
<p>The function <code>measured_markers</code> takes the condor object as
<code>fcd</code> input and returns the number of markers that are
included in the condor object and a list of their names. By directing
the output to a variable it is possible to save the list of the marker
names for future use.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">expr_markers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/measured_markers.html">measured_markers</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "number of measured markers: 28"</span></span>
<span><span class="co">##  [1] "FSC-A"         "SSC-A"         "CD38"          "CD8"          </span></span>
<span><span class="co">##  [5] "CD195 (CCR5)"  "CD94 (KLRD1)"  "CD45RA"        "HLA-DR"       </span></span>
<span><span class="co">##  [9] "CD56"          "CD127 (IL7RA)" "CD14"          "CD64"         </span></span>
<span><span class="co">## [13] "CD4"           "IgD"           "CD19"          "CD16"         </span></span>
<span><span class="co">## [17] "CD32"          "CD197 (CCR7)"  "CD20"          "CD27"         </span></span>
<span><span class="co">## [21] "CD15"          "PD-1"          "CD3"           "CD57"         </span></span>
<span><span class="co">## [25] "CD25"          "CD123 (IL3RA)" "CD13"          "CD11c"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="change-parameter-names">Change parameter names<a class="anchor" aria-label="anchor" href="#change-parameter-names"></a>
</h3>
<p>The function <code>change_param_name</code> allows for the quick and
easy changing of single or multiple parameter names. It needs the condor
object as <code>fcd</code> input and vectors for the old and new
parameter names (<code>old_names</code> and <code>new_names</code>,
respectively). In the first example we change only the name of the
<em>PD-1</em> marker to <em>PD1</em>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">condor</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/change_param_name.html">change_param_name</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                            old_names <span class="op">=</span> <span class="st">"PD-1"</span>, </span>
<span>                            new_names <span class="op">=</span> <span class="st">"PD1"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Changed parameter 'PD-1' to 'PD1' in orig."</span></span></code></pre>
<p>It is also possible to modify multiple names at the same time. The
vector <em>NewNames</em> can either be written manually or computed
using vector manipulations. In the second example below we exclude the
protein names from the specific markers. It is important, that the order
of the old and new marker names stay the same.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">OldNames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CD195 (CCR5)"</span>, <span class="st">"CD94 (KLRD1)"</span>, <span class="st">"CD127 (IL7RA)"</span>, <span class="st">"CD197 (CCR7)"</span>, <span class="st">"CD123 (IL3RA)"</span><span class="op">)</span></span>
<span><span class="va">NewNames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">OldNames</span>, <span class="st">" "</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">OldNames</span><span class="op">)</span><span class="op">)</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> </span>
<span></span>
<span><span class="va">condor</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/change_param_name.html">change_param_name</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                            old_names <span class="op">=</span> <span class="va">OldNames</span>, </span>
<span>                            new_names <span class="op">=</span> <span class="va">NewNames</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Changed parameter 'CD195 (CCR5)' to 'CD195' in orig."</span></span>
<span><span class="co">## [1] "Changed parameter 'CD94 (KLRD1)' to 'CD94' in orig."</span></span>
<span><span class="co">## [1] "Changed parameter 'CD127 (IL7RA)' to 'CD127' in orig."</span></span>
<span><span class="co">## [1] "Changed parameter 'CD197 (CCR7)' to 'CD197' in orig."</span></span>
<span><span class="co">## [1] "Changed parameter 'CD123 (IL3RA)' to 'CD123' in orig."</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="get-used-markers">Get used markers<a class="anchor" aria-label="anchor" href="#get-used-markers"></a>
</h3>
<p>To keep track on which markers have been used as basis for
dimensionality reduction or clustering the respective markers are being
saved in the extra slot of the <code>condor</code> object. The
<code>used_markers</code> function can be used to extract those
markers.</p>
<p>It takes as input</p>
<ul>
<li>the <code>fcd</code> object (e.g. condor),</li>
<li>the <code>input_type</code> (pca, umap, tSNE, diffmap, phenograph or
FlowSOM),</li>
<li>the <code>data_slot</code> (orig or norm),</li>
<li>the <code>prefix</code> (if specified before, see dimensionality
reduction or clustering)</li>
</ul>
<p>and returns, similar to the <code>measured_markers</code> function,
the number and names of the markers used for the specific analysis
step.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pca_orig_markers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/used_markers.html">used_markers</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                                 input_type <span class="op">=</span> <span class="st">"pca"</span>, </span>
<span>                                 data_slot <span class="op">=</span> <span class="st">"orig"</span>,</span>
<span>                                 prefix <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "number of used markers in pca_orig : 28"</span></span>
<span><span class="co">##  [1] "FSC-A"  "SSC-A"  "CD38"   "CD8"    "CD195"  "CD94"   "CD45RA" "HLA-DR"</span></span>
<span><span class="co">##  [9] "CD56"   "CD127"  "CD14"   "CD64"   "CD4"    "IgD"    "CD19"   "CD16"  </span></span>
<span><span class="co">## [17] "CD32"   "CD197"  "CD20"   "CD27"   "CD15"   "PD1"    "CD3"    "CD57"  </span></span>
<span><span class="co">## [25] "CD25"   "CD123"  "CD13"   "CD11c"</span></span></code></pre>
<p>Below we show an example of markers used for the PCA calculation with
an exclusion of the scatter markers <code>FSC-A</code> and
<code>SSC-A</code>. The <code>prefix</code> used in this PCA calculation
was defines as <em>scatter_exclusion</em>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pca_scatter_exclusion_orig_markers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/used_markers.html">used_markers</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                                 input_type <span class="op">=</span> <span class="st">"pca"</span>, </span>
<span>                                 data_slot <span class="op">=</span> <span class="st">"orig"</span>,</span>
<span>                                 prefix <span class="op">=</span> <span class="st">"scatter_exclusion"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "number of used markers in pca_scatter_exclusion_orig : 26"</span></span>
<span><span class="co">##  [1] "CD38"   "CD8"    "CD195"  "CD94"   "CD45RA" "HLA-DR" "CD56"   "CD127" </span></span>
<span><span class="co">##  [9] "CD14"   "CD64"   "CD4"    "IgD"    "CD19"   "CD16"   "CD32"   "CD197" </span></span>
<span><span class="co">## [17] "CD20"   "CD27"   "CD15"   "PD1"    "CD3"    "CD57"   "CD25"   "CD123" </span></span>
<span><span class="co">## [25] "CD13"   "CD11c"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="check-the-integrity-of-the-condor-object">Check the integrity of the <code>condor</code> object<a class="anchor" aria-label="anchor" href="#check-the-integrity-of-the-condor-object"></a>
</h2>
<p>The <code>check_IDs</code> function can be useful to make sure the
condor object has the right structure for all downstream analysis. It
checks the cell IDs at each level and compares them to the
<code>fcd$expr$orig</code> data frame. If a discrepancy appears at any
point, a warning will be returned.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_IDs.html">check_IDs</a></span><span class="op">(</span><span class="va">condor</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Everything looks fine"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="merge-or-subset-the-condor-object">Merge or subset the <code>condor</code> object<a class="anchor" aria-label="anchor" href="#merge-or-subset-the-condor-object"></a>
</h2>
<div class="section level3">
<h3 id="merge-two-condor-objects">Merge two <code>condor</code> objects<a class="anchor" aria-label="anchor" href="#merge-two-condor-objects"></a>
</h3>
<p>The <code>merge_condor</code> function combines two
<code>condor</code> objects comprised of the same parameters (markers).
This function will merge only expression table and annotation as all the
downstream analysis will need to be repeated. If the cell IDs are
doubled between the two objects the merging can not be facilitated.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">condor_merged</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_condor.html">merge_condor</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                              data2 <span class="op">=</span> <span class="va">condor</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="subset-a-condor-object">Subset a <code>condor</code> object<a class="anchor" aria-label="anchor" href="#subset-a-condor-object"></a>
</h3>
<p>The <code>subset_fcd</code> function subsets the <code>condor</code>
object to a specific number of randomly selected cells specified with
the <code>size</code> parameter. A seed can be set for
reproducibility.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">condor_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/subset_fcd.html">subset_fcd</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                            size <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>                            seed <span class="op">=</span> <span class="fl">91</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="subset-a-condor-object-euqually-for-a-variable">Subset a <code>condor</code> object euqually for a variable<a class="anchor" aria-label="anchor" href="#subset-a-condor-object-euqually-for-a-variable"></a>
</h3>
<p>The <code>subset_fcd_byparam</code> function subsets the
<code>condor</code> object to a specific number of randomly selected
cells specified with the <code>size</code> parameter in each of the
specified <code>param</code>. A seed can be set for reproducibility.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">condor_subset_sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/subset_fcd_byparam.html">subset_fcd_byparam</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                                           param <span class="op">=</span> <span class="st">"sample_ID"</span>, </span>
<span>                                           size <span class="op">=</span> <span class="fl">500</span>, </span>
<span>                                           seed <span class="op">=</span> <span class="fl">91</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="filter-a-condor-object-to-create-a-specific-subset">Filter a <code>condor</code> object to create a specific subset<a class="anchor" aria-label="anchor" href="#filter-a-condor-object-to-create-a-specific-subset"></a>
</h3>
<p>The <code>filter_fcd</code> function can be useful to created a
specific subset of a <code>condor</code> object. It takes the row names
of the cells to be filtered as <code>cell_ids</code> input.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">condor_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_fcd.html">filter_fcd</a></span><span class="op">(</span>fcd <span class="op">=</span> <span class="va">condor</span>, </span>
<span>                            cell_ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/BiocGenerics/man/row_colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">condor</span><span class="op">$</span><span class="va">expr</span><span class="op">$</span><span class="va">orig</span><span class="op">)</span><span class="op">[</span><span class="va">condor</span><span class="op">$</span><span class="va">clustering</span><span class="op">$</span><span class="va">phenograph_pca_orig_k_60</span><span class="op">$</span><span class="va">metaclusters</span> <span class="op">==</span> <span class="st">"Classical Monocytes"</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">info</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.3.1 (2023-06-16)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Etc/UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] cyCONDOR_0.2.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##   [1] IRanges_2.34.1              Rmisc_1.5.1                </span></span>
<span><span class="co">##   [3] urlchecker_1.0.1            nnet_7.3-19                </span></span>
<span><span class="co">##   [5] CytoNorm_2.0.1              TH.data_1.1-2              </span></span>
<span><span class="co">##   [7] vctrs_0.6.4                 digest_0.6.33              </span></span>
<span><span class="co">##   [9] png_0.1-8                   shape_1.4.6                </span></span>
<span><span class="co">##  [11] proxy_0.4-27                slingshot_2.8.0            </span></span>
<span><span class="co">##  [13] ggrepel_0.9.4               parallelly_1.36.0          </span></span>
<span><span class="co">##  [15] MASS_7.3-60                 pkgdown_2.0.7              </span></span>
<span><span class="co">##  [17] reshape2_1.4.4              httpuv_1.6.12              </span></span>
<span><span class="co">##  [19] foreach_1.5.2               BiocGenerics_0.46.0        </span></span>
<span><span class="co">##  [21] withr_2.5.1                 ggrastr_1.0.2              </span></span>
<span><span class="co">##  [23] xfun_0.40                   ggpubr_0.6.0               </span></span>
<span><span class="co">##  [25] ellipsis_0.3.2              survival_3.5-7             </span></span>
<span><span class="co">##  [27] memoise_2.0.1               hexbin_1.28.3              </span></span>
<span><span class="co">##  [29] ggbeeswarm_0.7.2            RProtoBufLib_2.12.1        </span></span>
<span><span class="co">##  [31] princurve_2.1.6             profvis_0.3.8              </span></span>
<span><span class="co">##  [33] ggsci_3.0.0                 systemfonts_1.0.5          </span></span>
<span><span class="co">##  [35] ragg_1.2.6                  zoo_1.8-12                 </span></span>
<span><span class="co">##  [37] GlobalOptions_0.1.2         DEoptimR_1.1-3             </span></span>
<span><span class="co">##  [39] Formula_1.2-5               prettyunits_1.2.0          </span></span>
<span><span class="co">##  [41] promises_1.2.1              scatterplot3d_0.3-44       </span></span>
<span><span class="co">##  [43] rstatix_0.7.2               globals_0.16.2             </span></span>
<span><span class="co">##  [45] ps_1.7.5                    rstudioapi_0.15.0          </span></span>
<span><span class="co">##  [47] miniUI_0.1.1.1              generics_0.1.3             </span></span>
<span><span class="co">##  [49] ggcyto_1.28.1               base64enc_0.1-3            </span></span>
<span><span class="co">##  [51] processx_3.8.2              curl_5.1.0                 </span></span>
<span><span class="co">##  [53] S4Vectors_0.38.2            zlibbioc_1.46.0            </span></span>
<span><span class="co">##  [55] flowWorkspace_4.12.2        polyclip_1.10-6            </span></span>
<span><span class="co">##  [57] randomForest_4.7-1.1        GenomeInfoDbData_1.2.10    </span></span>
<span><span class="co">##  [59] RBGL_1.76.0                 ncdfFlow_2.46.0            </span></span>
<span><span class="co">##  [61] RcppEigen_0.3.3.9.4         xtable_1.8-4               </span></span>
<span><span class="co">##  [63] stringr_1.5.0               desc_1.4.2                 </span></span>
<span><span class="co">##  [65] doParallel_1.0.17           evaluate_0.22              </span></span>
<span><span class="co">##  [67] S4Arrays_1.0.6              hms_1.1.3                  </span></span>
<span><span class="co">##  [69] glmnet_4.1-8                GenomicRanges_1.52.1       </span></span>
<span><span class="co">##  [71] irlba_2.3.5.1               colorspace_2.1-0           </span></span>
<span><span class="co">##  [73] harmony_1.1.0               reticulate_1.34.0          </span></span>
<span><span class="co">##  [75] readxl_1.4.3                magrittr_2.0.3             </span></span>
<span><span class="co">##  [77] lmtest_0.9-40               readr_2.1.4                </span></span>
<span><span class="co">##  [79] Rgraphviz_2.44.0            later_1.3.1                </span></span>
<span><span class="co">##  [81] lattice_0.22-5              future.apply_1.11.0        </span></span>
<span><span class="co">##  [83] robustbase_0.99-0           XML_3.99-0.15              </span></span>
<span><span class="co">##  [85] cowplot_1.1.1               matrixStats_1.1.0          </span></span>
<span><span class="co">##  [87] xts_0.13.1                  class_7.3-22               </span></span>
<span><span class="co">##  [89] Hmisc_5.1-1                 pillar_1.9.0               </span></span>
<span><span class="co">##  [91] nlme_3.1-163                iterators_1.0.14           </span></span>
<span><span class="co">##  [93] compiler_4.3.1              RSpectra_0.16-1            </span></span>
<span><span class="co">##  [95] stringi_1.7.12              gower_1.0.1                </span></span>
<span><span class="co">##  [97] minqa_1.2.6                 SummarizedExperiment_1.30.2</span></span>
<span><span class="co">##  [99] lubridate_1.9.3             devtools_2.4.5             </span></span>
<span><span class="co">## [101] CytoML_2.12.0               plyr_1.8.9                 </span></span>
<span><span class="co">## [103] crayon_1.5.2                abind_1.4-5                </span></span>
<span><span class="co">## [105] locfit_1.5-9.8              sp_2.1-1                   </span></span>
<span><span class="co">## [107] sandwich_3.0-2              pcaMethods_1.92.0          </span></span>
<span><span class="co">## [109] dplyr_1.1.3                 codetools_0.2-19           </span></span>
<span><span class="co">## [111] multcomp_1.4-25             textshaping_0.3.7          </span></span>
<span><span class="co">## [113] recipes_1.0.8               openssl_2.1.1              </span></span>
<span><span class="co">## [115] Rphenograph_0.99.1          TTR_0.24.3                 </span></span>
<span><span class="co">## [117] bslib_0.5.1                 e1071_1.7-13               </span></span>
<span><span class="co">## [119] destiny_3.14.0              GetoptLong_1.0.5           </span></span>
<span><span class="co">## [121] ggplot.multistats_1.0.0     mime_0.12                  </span></span>
<span><span class="co">## [123] splines_4.3.1               circlize_0.4.15            </span></span>
<span><span class="co">## [125] Rcpp_1.0.11                 sparseMatrixStats_1.12.2   </span></span>
<span><span class="co">## [127] cellranger_1.1.0            knitr_1.44                 </span></span>
<span><span class="co">## [129] utf8_1.2.4                  clue_0.3-65                </span></span>
<span><span class="co">## [131] lme4_1.1-35.1               fs_1.6.3                   </span></span>
<span><span class="co">## [133] listenv_0.9.0               checkmate_2.3.0            </span></span>
<span><span class="co">## [135] DelayedMatrixStats_1.22.6   pkgbuild_1.4.2             </span></span>
<span><span class="co">## [137] ggsignif_0.6.4              tibble_3.2.1               </span></span>
<span><span class="co">## [139] Matrix_1.6-1.1              rpart.plot_3.1.1           </span></span>
<span><span class="co">## [141] callr_3.7.3                 tzdb_0.4.0                 </span></span>
<span><span class="co">## [143] tweenr_2.0.2                pkgconfig_2.0.3            </span></span>
<span><span class="co">## [145] pheatmap_1.0.12             tools_4.3.1                </span></span>
<span><span class="co">## [147] cachem_1.0.8                smoother_1.1               </span></span>
<span><span class="co">## [149] fastmap_1.1.1               rmarkdown_2.25             </span></span>
<span><span class="co">## [151] scales_1.2.1                grid_4.3.1                 </span></span>
<span><span class="co">## [153] usethis_2.2.2               broom_1.0.5                </span></span>
<span><span class="co">## [155] sass_0.4.7                  graph_1.78.0               </span></span>
<span><span class="co">## [157] carData_3.0-5               RANN_2.6.1                 </span></span>
<span><span class="co">## [159] rpart_4.1.21                farver_2.1.1               </span></span>
<span><span class="co">## [161] yaml_2.3.7                  MatrixGenerics_1.12.3      </span></span>
<span><span class="co">## [163] foreign_0.8-85              ggthemes_4.2.4             </span></span>
<span><span class="co">## [165] cli_3.6.1                   purrr_1.0.2                </span></span>
<span><span class="co">## [167] stats4_4.3.1                lifecycle_1.0.3            </span></span>
<span><span class="co">## [169] uwot_0.1.16                 askpass_1.2.0              </span></span>
<span><span class="co">## [171] caret_6.0-94                Biobase_2.60.0             </span></span>
<span><span class="co">## [173] mvtnorm_1.2-3               lava_1.7.3                 </span></span>
<span><span class="co">## [175] sessioninfo_1.2.2           backports_1.4.1            </span></span>
<span><span class="co">## [177] cytolib_2.12.1              timechange_0.2.0           </span></span>
<span><span class="co">## [179] gtable_0.3.4                rjson_0.2.21               </span></span>
<span><span class="co">## [181] umap_0.2.10.0               ggridges_0.5.4             </span></span>
<span><span class="co">## [183] parallel_4.3.1              pROC_1.18.5                </span></span>
<span><span class="co">## [185] limma_3.56.2                jsonlite_1.8.7             </span></span>
<span><span class="co">## [187] edgeR_3.42.4                RcppHNSW_0.5.0             </span></span>
<span><span class="co">## [189] bitops_1.0-7                ggplot2_3.4.4              </span></span>
<span><span class="co">## [191] Rtsne_0.16                  FlowSOM_2.8.0              </span></span>
<span><span class="co">## [193] ranger_0.16.0               flowCore_2.12.2            </span></span>
<span><span class="co">## [195] jquerylib_0.1.4             timeDate_4022.108          </span></span>
<span><span class="co">## [197] shiny_1.7.5.1               ConsensusClusterPlus_1.64.0</span></span>
<span><span class="co">## [199] htmltools_0.5.6.1           diffcyt_1.20.0             </span></span>
<span><span class="co">## [201] glue_1.6.2                  XVector_0.40.0             </span></span>
<span><span class="co">## [203] VIM_6.2.2                   RCurl_1.98-1.13            </span></span>
<span><span class="co">## [205] rprojroot_2.0.3             gridExtra_2.3              </span></span>
<span><span class="co">## [207] boot_1.3-28.1               TrajectoryUtils_1.8.0      </span></span>
<span><span class="co">## [209] igraph_1.5.1                R6_2.5.1                   </span></span>
<span><span class="co">## [211] tidyr_1.3.0                 SingleCellExperiment_1.22.0</span></span>
<span><span class="co">## [213] vcd_1.4-11                  cluster_2.1.4              </span></span>
<span><span class="co">## [215] pkgload_1.3.3               GenomeInfoDb_1.36.4        </span></span>
<span><span class="co">## [217] ipred_0.9-14                nloptr_2.0.3               </span></span>
<span><span class="co">## [219] DelayedArray_0.26.7         tidyselect_1.2.0           </span></span>
<span><span class="co">## [221] vipor_0.4.5                 htmlTable_2.4.2            </span></span>
<span><span class="co">## [223] ggforce_0.4.1               CytoDx_1.20.0              </span></span>
<span><span class="co">## [225] car_3.1-2                   future_1.33.0              </span></span>
<span><span class="co">## [227] ModelMetrics_1.2.2.2        munsell_0.5.0              </span></span>
<span><span class="co">## [229] laeken_0.5.2                data.table_1.14.8          </span></span>
<span><span class="co">## [231] htmlwidgets_1.6.2           ComplexHeatmap_2.16.0      </span></span>
<span><span class="co">## [233] RColorBrewer_1.1-3          rlang_1.1.1                </span></span>
<span><span class="co">## [235] remotes_2.4.2.1             colorRamps_2.3.1           </span></span>
<span><span class="co">## [237] ggnewscale_0.4.9            fansi_1.0.5                </span></span>
<span><span class="co">## [239] hardhat_1.3.0               beeswarm_0.4.0             </span></span>
<span><span class="co">## [241] prodlim_2023.08.28</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lorenzo Bonaguro, Charlotte Kroeger, Sophie Mueller, Jacqueline Leidner.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
